import{d as T,s as U,c as d,h as C,a as e,F as k,b as p,t as _,w as f,j as x,u as i,o as n,Q as M,e as P,f as I,r as A,U as H,l as F,V as N,v as R,q as V,g as W}from"./index-BvLjLqMI.js";import{u as S}from"./post-rcVQhgzS.js";import{T as J,_ as $,M as q}from"./MainLayout-DeIyzY_F.js";import{b as E}from"./index-DBHTF_SH.js";import{C as O,W as Q,T as z,l as D}from"./x-xEyJqcO4.js";import{F as G}from"./fb-DLmwhLHW.js";import{a as K}from"./NavbarMobile-DqUmIjiH.js";import{_ as X}from"./ArtikelCardMobile.vue_vue_type_script_setup_true_lang-Dfnk3krJ.js";import{u as Y}from"./agenda-YWvyXkKB.js";const Z={class:"py-[32px] px-[20px] md:py-[64px] md:px-[48px] lg:py-[80px] lg:px-[120px]"},ee={key:0,class:"w-full h-[60vh] bg-gray-300 animate-pulse relative"},te={class:"space-y-4 lg:space-y-6"},se={class:"text-base font-bold flex items-center gap-4"},ae={class:"p-2 bg-primary/10 rounded-full"},oe={class:"text-sm text-primary"},le={class:"space-y-4 lg:space-y-6 mt-4 md:mt-6"},ne={class:"w-full h-full lg:h-[60vh]"},ie=["src"],de={class:"flex justify-between items-center font-sora"},re={class:"flex gap-4 md:gap-5 lg:gap-6"},pe={class:"text-base space-y-2"},ue={class:"text-base space-y-2"},ce={class:"flex gap-4"},me=["src"],ge=["src"],_e=["src"],he=["src"],j=T({__name:"BeritaDetailHero",props:{post:{},loading:{type:Boolean}},setup(B){const y="https://cms.jatidiri.app/storage/",{copy:u,isSupported:h}=E(),m=B,t=U(()=>window.location.href),o=a=>a?`${y}/posts/${a}`:"",r=a=>{if(!m.post)return;const s=m.post.title,l=t.value,g=`${s} - Baca selengkapnya di: ${l}`;switch(a){case"copy":h?(u(l),D.success("Link berhasil disalin!",{autoClose:2e3})):D.error("Browser tidak mendukung copy link",{autoClose:2e3});break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(g)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(l)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(s)}&url=${encodeURIComponent(l)}`,"_blank");break}};return(a,s)=>(n(),d("div",Z,[a.loading?(n(),d("div",ee,s[4]||(s[4]=[e("div",{class:"container mx-auto px-4 h-full flex items-end pb-16"},[e("div",{class:"max-w-3xl"},[e("div",{class:"h-8 w-3/4 bg-gray-300 animate-pulse rounded mb-4"}),e("div",{class:"h-4 w-1/2 bg-gray-300 animate-pulse rounded"})])],-1)]))):a.post?(n(),d(k,{key:1},[e("div",te,[e("div",se,[e("div",ae,[e("p",oe,_(a.post.category.name),1)]),s[5]||(s[5]=e("p",{class:"text-sm"},"5 Menit Baca",-1))]),p(J,{text:a.post.title},null,8,["text"])]),e("div",le,[e("div",ne,[e("img",{src:o(a.post.image),alt:"Thumbnail",class:"w-full h-full object-cover rounded-[16px] md:rounded-[24px] lg:rounded-[32px]"},null,8,ie)]),e("div",de,[e("div",re,[e("div",pe,[p($,null,{default:f(()=>s[6]||(s[6]=[x("Penulis")])),_:1,__:[6]}),p($,{"weight-text":"font-bold"},{default:f(()=>[x(_(a.post.user.name),1)]),_:1})]),e("div",ue,[p($,null,{default:f(()=>s[7]||(s[7]=[x("Tanggal Publish")])),_:1,__:[7]}),p($,{"weight-text":"font-bold"},{default:f(()=>[x(_(new Date(a.post.pub_date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})),1)]),_:1})])]),e("div",ce,[e("button",{onClick:s[0]||(s[0]=l=>r("copy")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Salin tautan"},[e("img",{src:i(O),alt:"Salin tautan",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,me)]),e("button",{onClick:s[1]||(s[1]=l=>r("whatsapp")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Bagikan ke WhatsApp"},[e("img",{src:i(Q),alt:"WhatsApp",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,ge)]),e("button",{onClick:s[2]||(s[2]=l=>r("facebook")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Bagikan ke Facebook"},[e("img",{src:i(G),alt:"Facebook",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,_e)]),e("button",{onClick:s[3]||(s[3]=l=>r("twitter")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Bagikan ke Twitter"},[e("img",{src:i(z),alt:"Twitter",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,he)])])])])],64)):C("",!0)]))}}),fe={class:"pb-[32px] pt-[0px] px-[20px] md:pb-[64px] md:px-[48px] lg:pb-[80px] lg:px-[120px]"},xe={key:0,class:"container mx-auto px-4 py-12 max-w-4xl"},ye={key:1,class:"w-full flex flex-col md:flex-row gap-4 md:gap-5 lg:gap-6"},we={class:"w-full md:w-[70%] space-y-4 md:space-y-8"},ve={class:"text-[12px] md:text-[14px] lg:text-[16px] [&>p]:mb-4"},be=["innerHTML"],$e={class:"text-[12px] md:text-[14px] lg:text-[16px] [&>p]:mb-4"},ke=["innerHTML"],Be={class:"w-full md:w-[30%] space-y-4 md:space-y-6"},Ce={key:0,class:"space-y-4 md:space-y-6"},Te=["src"],Se={class:"w-full flex justify-between items-center gap-4"},De={class:"text-[12px] md:text-[14px] lg:text-[16px]"},je={class:"text-[10px] md:text-[12px] lg:text-[14px]"},Ie=["href"],Le={class:"space-y-4 md:space-y-6"},Ue={class:"grid grid-cols-1 gap-4 md:gap-6"},Me=T({__name:"BeritaDetailContent",props:{post:{},posts:{},agenda:{},loading:{type:Boolean}},setup(B){const y="https://cms.jatidiri.app/storage/",u=t=>t?`${y}/agendas/${t}`:"",h=t=>{if(!t)return"11 Januari 2022";const o={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString("id-ID",o)},m=t=>{A.push({name:"Agenda Detail",params:{slug:t}})};return(t,o)=>{var r,a,s,l,g;return n(),d("div",fe,[t.loading?(n(),d("div",xe,o[1]||(o[1]=[M('<div class="flex items-center mb-8"><div class="h-10 w-10 bg-gray-300 animate-pulse rounded-full mr-4"></div><div><div class="h-4 w-32 bg-gray-300 animate-pulse rounded mb-2"></div><div class="h-3 w-24 bg-gray-300 animate-pulse rounded"></div></div></div><div class="space-y-4"><div class="h-4 w-full bg-gray-300 animate-pulse rounded"></div><div class="h-4 w-5/6 bg-gray-300 animate-pulse rounded"></div><div class="h-4 w-2/3 bg-gray-300 animate-pulse rounded"></div><div class="h-4 w-full bg-gray-300 animate-pulse rounded mt-6"></div><div class="h-4 w-3/4 bg-gray-300 animate-pulse rounded"></div></div><div class="h-64 w-full bg-gray-300 animate-pulse rounded-lg my-8"></div><div class="space-y-4"><div class="h-4 w-full bg-gray-300 animate-pulse rounded"></div><div class="h-4 w-5/6 bg-gray-300 animate-pulse rounded"></div><div class="h-4 w-2/3 bg-gray-300 animate-pulse rounded"></div></div>',4)]))):t.post?(n(),d("div",ye,[e("div",we,[e("p",ve,[e("span",{class:"w-full leading-loose max-w-none [&_a]:text-blue-600 [&_a]:underline [&_a]:font-medium [&_a:hover]:text-blue-800 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:my-2 [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:my-2 [&_li]:my-1 [&_img]:max-w-full [&_img]:h-auto [&_img]:my-4 [&_img]:rounded-lg",innerHTML:t.post.description},null,8,be)]),e("p",$e,[e("span",{class:"w-full leading-loose max-w-none [&_a]:text-blue-600 [&_a]:underline [&_a]:font-medium [&_a:hover]:text-blue-800 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:my-2 [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:my-2 [&_li]:my-1 [&_img]:max-w-full [&_img]:h-auto [&_img]:my-4 [&_img]:rounded-lg",innerHTML:t.post.content},null,8,ke)])]),e("div",Be,[t.agenda[0]?(n(),d("div",Ce,[o[3]||(o[3]=e("h6",{class:"text-[16px] md:text-[22px] font-bold"},"Agenda Terkait",-1)),e("div",{class:"w-full h-full space-y-4",onClick:o[0]||(o[0]=c=>{var w;return m((w=t.agenda[0])==null?void 0:w.slug)})},[e("img",{src:u(((r=t.agenda[0])==null?void 0:r.image)||""),alt:"",class:"w-full h-[20vh] rounded-[16px] object-cover"},null,8,Te),e("div",Se,[e("div",null,[e("p",De,_((a=t.agenda[0])==null?void 0:a.title),1),e("div",null,[e("p",je,[x(_(h((s=t.agenda[0])==null?void 0:s.end_date))+" â€¢ ",1),e("span",null,_((l=t.agenda[0])==null?void 0:l.location),1)])])]),e("a",{href:(g=t.agenda[0])==null?void 0:g.register_link,class:"w-fit"},[p(K,null,{default:f(()=>o[2]||(o[2]=[x("Daftar")])),_:1,__:[2]})],8,Ie)])])])):C("",!0),e("div",Le,[o[4]||(o[4]=e("h6",{class:"text-[16px] md:text-[22px] font-bold"},"Artikel & Berita Terkait",-1)),e("div",Ue,[(n(!0),d(k,null,P(t.posts,c=>(n(),I(X,{key:c.id,title:c.title,slug:c.slug,image:c.image,date:c.pub_date},null,8,["title","slug","image","date"]))),128))])])])])):C("",!0)])}}}),Pe={key:1,class:"container mx-auto px-4 py-16 text-center"},Ae={class:"text-red-500"},He={key:3,class:"container mx-auto px-4 py-16 text-center"},Qe=T({__name:"BeritaDetail",setup(B){var l,g,c,w;const y=N(),u=S(),h=S(),m=Y(),{currentPost:t,loading:o,error:r}=H(u),a=()=>{var v;(v=u.currentPost)!=null&&v.title&&(document.title=`${u.currentPost.title} - Jatidiri.App`)};F(()=>{const v=y.params.slug;u.fetchPostBySlug(v),a(),h.fetchPosts(),m.fetchAgendas()}),R(()=>u.currentPost,a);const s={"@context":"https://schema.org","@type":`${(l=t.value)==null?void 0:l.category.name}`,headline:`${(g=t.value)==null?void 0:g.title}`,datePublished:`${(c=t.value)==null?void 0:c.pub_date}`,author:{"@type":"Person",name:`${(w=t.value)==null?void 0:w.user.name}`}};return V({script:[{type:"application/ld+json",innerHTML:JSON.stringify(s)}]}),(v,b)=>{const L=W("BodySection");return n(),I(q,{"white-section-visible":!0},{default:f(()=>[i(o)?(n(),d(k,{key:0},[p(j,{loading:!0}),p(L,{loading:!0}),b[0]||(b[0]=e("div",{class:"bg-gray-100 py-16"},[e("div",{class:"container mx-auto px-4 text-center"},[e("div",{class:"h-8 w-1/2 mx-auto bg-gray-300 animate-pulse rounded mb-6"}),e("div",{class:"h-12 w-48 mx-auto bg-gray-300 animate-pulse rounded"})])],-1))],64)):i(r)?(n(),d("div",Pe,[e("div",Ae,_(i(r)),1)])):i(t)?(n(),d(k,{key:2},[p(j,{post:i(t)},null,8,["post"]),p(Me,{post:i(t),posts:i(h).posts.slice(0,3),agenda:i(m).agendas.slice(0,1)},null,8,["post","posts","agenda"])],64)):(n(),d("div",He,b[1]||(b[1]=[e("p",null,"Berita tidak ditemukan.",-1)])))]),_:1})}}});export{Qe as default};
