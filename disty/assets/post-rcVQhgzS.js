import{O as e,P as o}from"./index-BvLjLqMI.js";const s={async getAll(r=1){try{return(await e.get(`post?page=${r}`)).data}catch(t){throw console.error("Error fetching post:",t),t}},async getBySlug(r){try{return(await e.get(`post/${r}`)).data}catch(t){throw console.error("Error fetching post by slug:",t),t}}},n=o("post",{state:()=>({posts:[],currentPost:null,loading:!1,error:null,pagination:{currentPage:1,lastPage:1,perPage:10,total:0}}),actions:{async fetchPosts(r=1){this.loading=!0,this.error=null;try{const t=await s.getAll(r);this.posts=t.data,this.pagination={currentPage:t.current_page,lastPage:t.last_page,perPage:t.per_page,total:t.total}}catch(t){this.error=t.message||"Failed to fetch posts",console.error("Error fetching posts:",t)}finally{this.loading=!1}},async fetchPostBySlug(r){this.loading=!0,this.error=null;try{const t=await s.getBySlug(r);this.currentPost=t}catch(t){this.error=t.message||"Failed to fetch post",console.error("Error fetching post:",t)}finally{this.loading=!1}}}});export{n as u};
