import{c as i,a,L as T,d as _,p as I,g as v,w as c,m as $,e,F as b,b as r,h as y,t as B,u as n,N as j,o as D,O as L,q as P,i as U}from"./index-sX6JlLsy.js";import{u as F}from"./post-DI12yWki.js";import{b as M,T as R,_ as g,M as N}from"./MainLayout-COKr4W2Y.js";import{b as A}from"./index-CHgAx98I.js";import{C as V,W,T as H,l as x}from"./x-CDOy6aSn.js";import{F as q}from"./fb-DLmwhLHW.js";const E={},J={class:"px-8 py-16 md:px-16 md:py-16 lg:px-32 lg:py-16"};function K(p,d){return a(),i("div",J,[T(p.$slots,"default")])}const C=M(E,[["render",K]]),O={key:0,class:"w-full h-[60vh] bg-gray-300 animate-pulse relative"},z={class:"space-y-4 lg:space-y-6"},G={class:"space-y-4 lg:space-y-6 mt-4 md:mt-6"},Q={class:"w-full h-full lg:h-[60vh]"},X=["src"],Y={class:"flex justify-between items-center"},Z={class:"flex gap-4 md:gap-5 lg:gap-6"},ee={class:"text-base space-y-2"},te={class:"text-base space-y-2"},se={class:"flex gap-4"},ae=["src"],oe=["src"],le=["src"],ne=["src"],k=_({__name:"BeritaDetailHero",props:{post:{},loading:{type:Boolean}},setup(p){const d="https://cms.jatidiri.app/storage/",{copy:o,isSupported:m}=A(),w=p,h=I(()=>window.location.href),f=s=>s?`${d}/posts/${s}`:"",l=s=>{if(!w.post)return;const t=w.post.title,u=h.value,S=`${t} - Baca selengkapnya di: ${u}`;switch(s){case"copy":m?(o(u),x.success("Link berhasil disalin!",{autoClose:2e3})):x.error("Browser tidak mendukung copy link",{autoClose:2e3});break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(S)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(u)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(u)}`,"_blank");break}};return(s,t)=>(a(),v(C,null,{default:c(()=>[s.loading?(a(),i("div",O,t[4]||(t[4]=[e("div",{class:"container mx-auto px-4 h-full flex items-end pb-16"},[e("div",{class:"max-w-3xl"},[e("div",{class:"h-8 w-3/4 bg-gray-300 animate-pulse rounded mb-4"}),e("div",{class:"h-4 w-1/2 bg-gray-300 animate-pulse rounded"})])],-1)]))):s.post?(a(),i(b,{key:1},[e("div",z,[t[5]||(t[5]=e("div",{class:"text-base font-bold flex items-center gap-4"},[e("div",{class:"p-2 bg-gray-300 rounded-full"},[e("p",{class:"text-sm"},"Kategori")]),e("p",{class:"text-sm"},"5 Menit Baca")],-1)),r(R,{text:s.post.title},null,8,["text"])]),e("div",G,[e("div",Q,[e("img",{src:f(s.post.image),alt:"Thumbnail",class:"w-full h-full object-cover rounded-[16px] md:rounded-[24px] lg:rounded-[32px]"},null,8,X)]),e("div",Y,[e("div",Z,[e("div",ee,[r(g,null,{default:c(()=>t[6]||(t[6]=[y("Penulis")])),_:1,__:[6]}),r(g,null,{default:c(()=>t[7]||(t[7]=[y("Author")])),_:1,__:[7]})]),e("div",te,[r(g,null,{default:c(()=>t[8]||(t[8]=[y("Tanggal Publish")])),_:1,__:[8]}),r(g,null,{default:c(()=>[y(B(new Date(s.post.pub_date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})),1)]),_:1})])]),e("div",se,[e("button",{onClick:t[0]||(t[0]=u=>l("copy")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Salin tautan"},[e("img",{src:n(V),alt:"Salin tautan",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,ae)]),e("button",{onClick:t[1]||(t[1]=u=>l("whatsapp")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Bagikan ke WhatsApp"},[e("img",{src:n(W),alt:"WhatsApp",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,oe)]),e("button",{onClick:t[2]||(t[2]=u=>l("facebook")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Bagikan ke Facebook"},[e("img",{src:n(q),alt:"Facebook",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,le)]),e("button",{onClick:t[3]||(t[3]=u=>l("twitter")),class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Bagikan ke Twitter"},[e("img",{src:n(H),alt:"Twitter",class:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"},null,8,ne)])])])])],64)):$("",!0)]),_:1}))}}),re={key:0,class:"container mx-auto px-4 py-12 max-w-4xl"},ie={key:1,class:"w-full flex flex-col md:flex-row gap-4 md:gap-5 lg:gap-6"},de={class:"w-full md:w-[70%]"},ue=["innerHTML"],ce=_({__name:"BeritaDetailContent",props:{post:{},loading:{type:Boolean}},setup(p){return(d,o)=>(a(),v(C,null,{default:c(()=>[d.loading?(a(),i("div",re,o[0]||(o[0]=[e("div",{class:"flex items-center mb-8"},[e("div",{class:"h-10 w-10 bg-gray-300 animate-pulse rounded-full mr-4"}),e("div",null,[e("div",{class:"h-4 w-32 bg-gray-300 animate-pulse rounded mb-2"}),e("div",{class:"h-3 w-24 bg-gray-300 animate-pulse rounded"})])],-1),e("div",{class:"space-y-4"},[e("div",{class:"h-4 w-full bg-gray-300 animate-pulse rounded"}),e("div",{class:"h-4 w-5/6 bg-gray-300 animate-pulse rounded"}),e("div",{class:"h-4 w-2/3 bg-gray-300 animate-pulse rounded"}),e("div",{class:"h-4 w-full bg-gray-300 animate-pulse rounded mt-6"}),e("div",{class:"h-4 w-3/4 bg-gray-300 animate-pulse rounded"})],-1),e("div",{class:"h-64 w-full bg-gray-300 animate-pulse rounded-lg my-8"},null,-1),e("div",{class:"space-y-4"},[e("div",{class:"h-4 w-full bg-gray-300 animate-pulse rounded"}),e("div",{class:"h-4 w-5/6 bg-gray-300 animate-pulse rounded"}),e("div",{class:"h-4 w-2/3 bg-gray-300 animate-pulse rounded"})],-1)]))):d.post?(a(),i("div",ie,[e("div",de,[r(g,null,{default:c(()=>[e("span",{innerHTML:d.post.content},null,8,ue)]),_:1})])])):$("",!0)]),_:1}))}}),pe={key:1,class:"container mx-auto px-4 py-16 text-center"},me={class:"text-red-500"},ge={key:3,class:"container mx-auto px-4 py-16 text-center"},ve=_({__name:"BeritaDetail",setup(p){const d=L(),o=F(),{currentPost:m,loading:w,error:h}=j(o),f=()=>{var l;(l=o.currentPost)!=null&&l.title&&(document.title=`${o.currentPost.title} - Jatidiri.App`)};return D(()=>{const l=d.params.slug;o.fetchPostBySlug(l),f()}),P(()=>o.currentPost,f),(l,s)=>{const t=U("BodySection");return a(),v(N,{"white-section-visible":!0},{default:c(()=>[n(w)?(a(),i(b,{key:0},[r(k,{loading:!0}),r(t,{loading:!0}),s[0]||(s[0]=e("div",{class:"bg-gray-100 py-16"},[e("div",{class:"container mx-auto px-4 text-center"},[e("div",{class:"h-8 w-1/2 mx-auto bg-gray-300 animate-pulse rounded mb-6"}),e("div",{class:"h-12 w-48 mx-auto bg-gray-300 animate-pulse rounded"})])],-1))],64)):n(h)?(a(),i("div",pe,[e("div",me,B(n(h)),1)])):n(m)?(a(),i(b,{key:2},[r(k,{post:n(m)},null,8,["post"]),r(ce,{post:n(m)},null,8,["post"])],64)):(a(),i("div",ge,s[1]||(s[1]=[e("p",null,"Berita tidak ditemukan.",-1)])))]),_:1})}}});export{ve as default};
